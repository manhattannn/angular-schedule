"use strict";angular.module("cmScheduleApp",["ngCookies","ngResource","ngSanitize","ngRoute","ngGrid","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("cmScheduleApp").controller("MainCtrl",["$scope","$filter",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("cmScheduleApp").directive("datePicker",function(){return{template:"<div>THIS IS SOMETHING</div>",restrict:"E",link:function(a,b){b.text("this is the datePicker directive")}}}),angular.module("cmScheduleApp").controller("cmScheduleCtrl",["$scope","cmScheduleData",function(a,b){function c(b){var c={},d=[];return b.time.forEach(function(b){d.push(b.start),c[b.start]={},c[b.start].time=b,a.channels.forEach(function(a){c[b.start][a]="placeholder"})}),a.channels.forEach(function(a){b[a].forEach(function(b){c[b.start][a]=b,c[b.start][a].span=b.duration/c[b.start].time.duration;for(var e=d.indexOf(b.start),f=e+c[b.start][a].span,g=e+1;f>g;g++)c[d[g]][a]=null,console.log(g+" "+a),console.log(e+"-"+f)})}),c}a.date=new Date,a.today=function(){return new Date},a.move=function(b){a.date=new Date(a.date.setDate(a.date.getDate()+b).valueOf())},a.$watch("date",function(){a.updateSchedule(a.date)}),a.channels=["ch1","ch2","ch3","ch4"],a.updateSchedule=function(d){b.getData(d).success(function(b){a.timeslots=c(b)})},a.updateSchedule(a.date),a.toggleDetails=function(a){return a.showDetails=!a.showDetails}}]),angular.module("cmScheduleApp").factory("cmScheduleData",["$http",function(a){function b(a){var b=a.getFullYear().toString(),c=(a.getMonth()+1).toString(),d=a.getDate().toString();return(c[1]?c:"0"+c[0])+"/"+(d[1]?d:"0"+d[0])+"/"+b}var c="https://mnn_reporting.dev.zivtech.com/schedule/get";return{getData:function(d){var e=c+"?date="+b(d);return a.get(e)}}}]);